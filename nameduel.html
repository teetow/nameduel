<head>
    <title>Name duel!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-md-9">
                <img class="img-responsive" src="/logo.svg" />
            </div>
            <div id="login" class="col-md-3">
                {{> loginButtons align="right"}}
            </div>
        </div>
        <div class="row" id="votewidget">
            {{#if currentUser}} {{> votewidget}} {{else}}
            <h3>Hello! Please sign in or register.</h3> {{/if}}
        </div>
        {{> toplists}}
    </div>
</body>
<!-- templates -->
<template name="votewidget">
    <div class="row">
        <div class="col-md-12">
            <h3>Pick your winner!</h3>
        </div>
    </div>
    <div class="row">
        <div id="babyleft" class="col-md-4 col-md-offset-2">
            {{> babyleft}}
        </div>
        <div id="babyright" class="col-md-4">
            {{> babyright}}
        </div>
    </div>
    <div class="row">
        <div id="skipvote">
            {{> skipvote}}
        </div>
    </div>
    <div class="row">
        <div id="addwidget">
            {{> addwidget}}
        </div>
    </div>
</template>
<template name="babyleft">
    <div class="babyvotebox">
        <h2>{{baby.name}}</h2>
    </div>
</template>
<template name="babyright">
    <div class="babyvotebox">
        <h2>{{baby.name}}</h2>
    </div>
</template>
<template name="skipvote">
    <div id="skipvote" class="col-md-12">
        <button type="button" class="btn btn-default skipvote">Skip this vote</button>
    </div>
</template>
<template name="addwidget">
    <div class="row">
        <div class="col-md-12">
            <form class="form-inline">
                <div class="addnameform form-group">
                    <input class="form-control addwidget-input" type="text" placeholder="Suggest a name..." />
                    <button type="button" class="btn btn-primary addwidget-button" disabled="{{isValidName}}">Add</button>
                    <div class="message"></div>
                </div>
            </form>
        </div>
    </div>
</template>
<template name="toplists">
    {{#if currentUser}}
    <div class="row" id="toplists">
        <div class="col-md-4">
            {{> boilerplate}}
        </div>
        <div class="col-md-4 toplistbox favoriteslistbox {{favoriteslistfull}}">
            {{#if favoriteslistfull}}
            <h4 class="showhide">My favorite names <i class="glyphicon glyphicon-chevron-up"></i></h4> {{else}}
            <h4 class="showhide">My favorite names <i class="glyphicon glyphicon-chevron-down"></i></h4> {{/if}} {{> favoritenames}}
        </div>
        <div class="col-md-4 toplistbox popularlistbox {{popularlistfull}}">
            {{#if popularlistfull}}
            <h4 class="showhide">Popular names <i class="glyphicon glyphicon-chevron-up"></i></h4> {{else}}
            <h4 class="showhide">Popular names <i class="glyphicon glyphicon-chevron-down"></i></h4> {{/if}} {{> popularnames}}
        </div>
    </div>
    {{/if}}
</template>
<template name="boilerplate">
    <h4>Name duel!</h4>
    <p>Vote for your favorite!</p>
</template>
<template name="favoritenames">
    <table class="toplisttable">
        {{#each names}} {{> namescorewidget}} {{/each}}
    </table>
</template>
<template name="popularnames">
    <table class="toplisttable">
        {{#each names}} {{> namescorewidget}} {{/each}}
    </table>
</template>
<template name="namescorewidget">
    <tr>
        <td class="tablename">{{name}}</td>
        <td class="tablemeter">
            <div class="meter" style="width:{{width}}%; background-color:#{{color}}"></div>
        </td>
        <td class="tablescore">{{score}} ({{fights}})</td>
    </tr>
</template>
